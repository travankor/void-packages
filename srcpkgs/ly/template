# Template file for 'ly'
pkgname=ly
version=0.2.1
revision=1
_ly_commit=10bd01aaeb1c20bc7b58dcc8ccc828daa7971dff
_inih_commit=0ee2bf26abccc63ee0a5a416ed9cdf4d113d8c25
_termboxnext_commit=d3568927865c15d033d4096cb446d5a3628e2398
wrksrc="${pkgname}-${_ly_commit}"
build_style=gnu-makefile
makedepends="libX11-devel pam-devel"
depends="pam util-linux xauth"
short_desc="TUI display manager"
maintainer="travankor <travankor@tuta.io>"
license="WTFPL"
homepage="https://github.com/cylgom/ly"
distfiles="
 https://github.com/cylgom/ly/archive/${_ly_commit}.tar.gz
 https://github.com/benhoyt/inih/archive/${_inih_commit}.tar.gz
 https://github.com/cylgom/termbox-next/archive/${_termboxnext_commit}.tar.gz"
checksum="a327ed00515eb420f575d9d5edeabd62f8f9de0203afcbcd3c0bb2213a3839bf
 19cdd612f47a29d1f01e4fedc9f9e673fd19d4ab417792f2bb13d942ea48b385
 3b92a60f48157af3d08c2e26fb5cdadf60131c89b86e69b1e6a488c4d7549d11"

post_extract() {
	mv ../inih-${_inih_commit}/* sub/inih
	mv ../termbox-next-${_termboxnext_commit}/* sub/termbox-next
}

post_install() {
	rm -rf "${DESTDIR}"/usr/lib/systemd
	vsv ly
}
